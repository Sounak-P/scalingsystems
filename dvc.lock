schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py data/data.csv
    deps:
    - path: data/data.csv
      hash: md5
      md5: 6165d90b8708bb1c1dd14245cc6bef46
      size: 125204
    - path: src/prepare.py
      hash: md5
      md5: a189c3d7b5c906cae6d228da901cf16b
      size: 1987
    params:
      params.yaml:
        prepare.seed: 42
        prepare.split: 0.2
    outs:
    - path: data/prepared
      hash: md5
      md5: 0a159172c6bb8e72fcdf855cea36f0a7.dir
      size: 122416
      nfiles: 2
  featurize:
    cmd: python src/featurization.py data/prepared/train.csv data/prepared/test.csv
      data/features/train.pkl data/features/test.pkl
    deps:
    - path: data/prepared/test.csv
      hash: md5
      md5: 90b75b99315968f30cb6255bf7e7ffb1
      size: 23341
    - path: data/prepared/train.csv
      hash: md5
      md5: 6e497bb657b2e39fbbb9e2a40462b389
      size: 99075
    - path: src/featurization.py
      hash: md5
      md5: 78737ec33d0da0ee7f0b4614d7c71d41
      size: 2975
    params:
      params.yaml:
        featurize.n_components: 10
    outs:
    - path: data/features/test.pkl
      hash: md5
      md5: bcbba30f69609cb18d243d0468232c96
      size: 10108
    - path: data/features/train.pkl
      hash: md5
      md5: acc4379c311b476b6f34bc93703a6ae8
      size: 41353
  train:
    cmd: python src/train.py data/features model.pkl
    deps:
    - path: data/features
      hash: md5
      md5: 1eb2095d56fab415049dc7faa0790e7f.dir
      size: 51461
      nfiles: 2
    - path: src/train.py
      hash: md5
      md5: acfb565c477f64084eced09b284b0261
      size: 1521
    params:
      params.yaml:
        train.min_split: 0.01
        train.n_est: 50
        train.seed: 20170428
    outs:
    - path: model.pkl
      hash: md5
      md5: ad297c7fcdba2bfea2847c83ff557d95
      size: 207847
  evaluate:
    cmd: python src/evaluate.py model.pkl data/features
    deps:
    - path: data/features
      hash: md5
      md5: 1eb2095d56fab415049dc7faa0790e7f.dir
      size: 51461
      nfiles: 2
    - path: model.pkl
      hash: md5
      md5: ad297c7fcdba2bfea2847c83ff557d95
      size: 207847
    - path: src/evaluate.py
      hash: md5
      md5: 27c5507988f66cf4e91c02e72b73b2f3
      size: 3231
    outs:
    - path: eval
      hash: md5
      md5: 56c6f0790e87398fbe017d911f936ec2.dir
      size: 81910
      nfiles: 8
